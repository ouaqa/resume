// polyfills
// @koala-append "polyfills/rAF.min.js"
// @koala-append "polyfills/html5-dataset.min.js"

// generic
// @koala-append "toolbox/toolbox.min.js"
// @koala-append "animate/animate-on-display.min.js"
 
// specific scripts
// @koala-append "skills/skills.min.js" 
// @koala-append "nav-jumper/nav-jumper.min.js"  

!function(){for(var n=0,a=["ms","moz","webkit","o"],t=0;t<a.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[a[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[t]+"CancelAnimationFrame"]||window[a[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var t=(new Date).getTime(),e=Math.max(0,16-(t-n)),o=window.setTimeout(function(){a(t+e)},e);return n=t+e,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})}();

if(Function.prototype.bind||(Function.prototype.bind=function(t){"use strict";if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,o.prototype=new r,o}),function(){"use strict";var t=Object.prototype,e=t.__defineGetter__,n=t.__defineSetter__,r=t.__lookupGetter__,o=t.__lookupSetter__,i=t.hasOwnProperty;e&&n&&r&&o&&(Object.defineProperty||(Object.defineProperty=function(t,a,c){if(arguments.length<3)throw new TypeError("Arguments not optional");if(a+="",i.call(c,"value")&&(r.call(t,a)||o.call(t,a)||(t[a]=c.value),i.call(c,"get")||i.call(c,"set")))throw new TypeError("Cannot specify an accessor and a value");if(!(c.writable&&c.enumerable&&c.configurable))throw new TypeError("This implementation of Object.defineProperty does not support false for configurable, enumerable, or writable.");return c.get&&e.call(t,a,c.get),c.set&&n.call(t,a,c.set),t}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(t,e){if(arguments.length<2)throw new TypeError("Arguments not optional.");e+="";var n={configurable:!0,enumerable:!0,writable:!0},a=r.call(t,e),c=o.call(t,e);return i.call(t,e)?a||c?(delete n.writable,n.get=n.set=void 0,a&&(n.get=a),c&&(n.set=c),n):(n.value=t[e],n):n}),Object.defineProperties||(Object.defineProperties=function(t,e){var n;for(n in e)i.call(e,n)&&Object.defineProperty(t,n,e[n])}))}(),!(document.documentElement.dataset||Object.getOwnPropertyDescriptor(Element.prototype,"dataset")&&Object.getOwnPropertyDescriptor(Element.prototype,"dataset").get)){var propDescriptor={enumerable:!0,get:function(){"use strict";var t,e,n,r,o,i,a=this,c=this.attributes,d=c.length,u=function(t){return t.charAt(1).toUpperCase()},l=function(){return this},s=function(t,e){return"undefined"!=typeof e?this.setAttribute(t,e):this.removeAttribute(t)};try{({}).__defineGetter__("test",function(){}),e={}}catch(f){e=document.createElement("div")}for(t=0;d>t;t++)if(i=c[t],i&&i.name&&/^data-\w[\w\-]*$/.test(i.name)){n=i.value,r=i.name,o=r.substr(5).replace(/-./g,u);try{Object.defineProperty(e,o,{enumerable:this.enumerable,get:l.bind(n||""),set:s.bind(a,r)})}catch(p){e[o]=n}}return e}};try{Object.defineProperty(Element.prototype,"dataset",propDescriptor)}catch(e){propDescriptor.enumerable=!1,Object.defineProperty(Element.prototype,"dataset",propDescriptor)}}

function getScreenSize(){"use strict";var t=window.getComputedStyle(document.querySelector("body"),":after").getPropertyValue("content");return t=t.replace(/\D/g,""),parseInt(t)}function isElementInViewport(t){"use strict";var n=t.getBoundingClientRect(),e=n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth);return n=null,e}function appendClickListenerToAll(t,n){"use strict";for(var e,i=0,r=t.length;r>i;)e=t[i],e.addEventListener?e.addEventListener("click",n,!1):e.attachEvent&&e.attachEvent("onclick",n),i++;e=null}function fireIfElementVisible(t,n){return function(){isElementInViewport(t)&&n(t)}}function attachVisibilityHandler(t){window.addEventListener?(addEventListener("DOMContentLoaded",t,!1),addEventListener("load",t,!1),addEventListener("scroll",t,!1),addEventListener("resize",t,!1)):window.attachEvent&&(attachEvent("onDOMContentLoaded",t),attachEvent("onload",t),attachEvent("onscroll",t),attachEvent("onresize",t))}function detachVisibilityHandler(t){window.addEventListener?(removeEventListener("DOMContentLoaded",t,!1),removeEventListener("load",t,!1),removeEventListener("scroll",t,!1),removeEventListener("resize",t,!1)):window.attachEvent&&(detachEvent("onDOMContentLoaded",t),detachEvent("onload",t),detachEvent("onscroll",t),detachEvent("onresize",t))}function readyAndWilling(t){"use strict";return"complete"==document.readyState?(t(),void 0):(document.addEventListener?document.addEventListener("DOMContentLoaded",t):document.attachEvent("onreadystatechange",function(){"interactive"===document.readyState&&t()}),void 0)}function loadMedia(t,n,e){"use strict";var i=new XMLHttpRequest;i.open("GET",t,!0),i.onload=function(){i.status>=200&&i.status<400?n(i.responseText):e()},i.onerror=function(){e()},i.send()}function injectAll(t,n){"use strict";for(var e in n)t=t.replace(/(___[a-zA-Z]+___)/g,function(t,e){var i=n[e];return"undefined"==typeof i?t:i});return t}function outerHeight(t){"use strict";var n=t.offsetHeight,e=getComputedStyle(t);return n+=parseInt(e.marginTop)+parseInt(e.marginBottom)}function getBackground(t){"use strict";var n="";return t.currentStyle?n=t.currentStyle.backgroundColor:window.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue("background")),n}Array.prototype.remove=function(t,n){var e=this.slice((n||t)+1||this.length);return this.length=0>t?this.length+t:t,this.push.apply(this,e)},Math.easeInOutQuad=function(t,n,e,i){return t/=i/2,1>t?e/2*t*t+n:(t--,-e/2*(t*(t-2)-1)+n)},Math.easeInCubic=function(t,n,e,i){var r=(t/=i)*t*t;return n+e*r},Math.inOutQuintic=function(t,n,e,i){var r=(t/=i)*t,a=r*t;return n+e*(6*a*r+-15*r*r+10*a)};

function initAnimateOnDisplay(){getScreenSize()>1&&(console.log("yepy"),anim_Elements=document.querySelectorAll(".js-animate-once"))}function AnimatedObject(t){"use strict";this.el=t,this.animateOnce=!0,this.callBack=null,this._init()}var anim_Elements;readyAndWilling(initAnimateOnDisplay),AnimatedObject.prototype._init=function(){"use strict";var t=this;this.paths.forEach(function(n,e){t.pathsArr[e]=n,n.style.strokeDasharray=t.lengthsArr[e]=n.getTotalLength()}),this.draw(0)},AnimatedObject.prototype.draw=function(t){"use strict";for(var n=0,e=this.pathsArr.length;e>n;++n)this.pathsArr[n].style.strokeDashoffset=this.lengthsArr[n]*(1-t)};

function initSvgSkills(){"use strict";loadMedia("media/svg/skill__svg.svg",svgLoadSucess,svgLoadFail)}function svgLoadSucess(t){"use strict";var n=document.querySelectorAll(".skill__meter");Array.prototype.forEach.call(n,function(n){n.innerHTML=t+n.innerHTML,n.classList?n.classList.add("skill__meter--circled"):n.className+=" skill__meter--circled";var e=new SVGEl(n.querySelector("svg.skill__svg"));if(svgElList.push([n,e]),isElementInViewport(n))isVisible(n);else{var i=fireIfElementVisible(n,isVisible);attachVisibilityHandler(i),svgVisibilityHandlers.push([n,i])}})}function isVisible(t){"use strict";var n=getSvgEl(t),e=t.dataset.level.split("-"),i=e[0]/e[1];n.draw(i),findAndDetachHandler(t)}function getSvgEl(t){"use strict";var n=svgElList.length;if(n>0){for(var e=0,i=!1;n>e&&0==i;){if(svgElList[e][0]===t)return svgElList[e][1];e++}if(!i){console.log("SVGEl instance was not found for : "),console.log(t);var r=new SVGEl(t.querySelector("svg.skill__svg"));return svgElList.push([t,r]),r}}}function findAndDetachHandler(t){"use strict";var n=svgVisibilityHandlers.length;if(n>0){for(var e=0,i=!1;n>e&&0==i;){if(svgVisibilityHandlers[e][0]===t){i=!0;break}e++}if(i){var r=svgVisibilityHandlers[e][1];detachVisibilityHandler(r),svgVisibilityHandlers.remove(e)}}}function svgLoadFail(){}function SVGEl(t){"use strict";this.el=t,this.paths=[].slice.call(this.el.querySelectorAll("path")),this.pathsArr=new Array,this.lengthsArr=new Array,this._init()}var svgVisibilityHandlers=Array(),svgElList=Array();readyAndWilling(initSvgSkills),SVGEl.prototype._init=function(){"use strict";var t=this;this.paths.forEach(function(n,e){t.pathsArr[e]=n,n.style.strokeDasharray=t.lengthsArr[e]=n.getTotalLength()}),this.draw(0)},SVGEl.prototype.draw=function(t){"use strict";for(var n=0,e=this.pathsArr.length;e>n;++n)this.pathsArr[n].style.strokeDashoffset=this.lengthsArr[n]*(1-t)};

function initNavJumper(){"use strict";nav_button=document.querySelector(".js-nav-jumper__button"),nav_anchorList=document.querySelectorAll("section"),nav_anchorLen=nav_anchorList.length,refreshCursorIndex(),nav_button.addEventListener?nav_button.addEventListener(nav_event,nav_clickHandler):nav_button.attachEvent("on"+nav_event,function(){nav_clickHandler.call(nav_button)})}function refreshCursorIndex(){"use strict";nav_startY=nav_doc.scrollTop;var t,n;for(nav_index=0;nav_anchorLen>nav_index&&(t=nav_anchorList[nav_index],n=t.offsetTop,!(n>nav_startY));)nav_index++;updateArrowDirection(),t=null,n=null}function updateArrowDirection(){"use strict";nav_button.dataset.direction=nav_index==nav_anchorLen?"up":"down"}function nav_clickHandler(){"use strict";if(refreshCursorIndex(),nav_index==nav_anchorLen)nav_destinationY=0,nav_index=0;else{var t=nav_anchorList[nav_index];nav_destinationY=t.offsetTop,nav_index+=1}nav_startTime=null,nav_doScroll()}function nav_doScroll(){"use strict";nav_startY=nav_doc.scrollTop,nav_currentDiffY=nav_destinationY-nav_startY,nav_currentTime=0,nav_animateScroll()}function nav_animateScroll(){"use strict";nav_currentTime+=nav_timeIncrement;var t=Math.easeInOutQuad(nav_currentTime,nav_startY,nav_currentDiffY,nav_duration);nav_doc.scrollTop=t,nav_duration>nav_currentTime?window.requestAnimationFrame(nav_animateScroll):nav_callback&&"function"==typeof nav_callback&&nav_callback()}var nav_button,nav_anchorList,nav_index=0,nav_anchorLen,nav_startY,nav_destinationY,nav_currentDiffY,nav_event="click",nav_duration=500,nav_startTime,nav_currentTime,nav_timeIncrement=20,nav_callback=updateArrowDirection,nav_doc=-1!=navigator.userAgent.indexOf("Firefox")||-1!=navigator.userAgent.indexOf("MSIE")?document.documentElement:document.body;readyAndWilling(initNavJumper);